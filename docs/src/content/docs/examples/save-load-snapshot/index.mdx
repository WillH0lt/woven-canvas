---
title: Save & Load Snapshots
description: Export and import canvas state as JSON.
---

import { Code } from '@astrojs/starlight/components';
import ExampleContainer from '../../../../components/ExampleContainer.astro';
import SaveLoadSnapshotExample from './SaveLoadSnapshotExample.vue';
import SaveLoadSnapshotExampleRaw from './SaveLoadSnapshotExample.vue?raw';

Export canvas state to JSON and restore it later.

<ExampleContainer>
  <SaveLoadSnapshotExample client:only="vue" />
</ExampleContainer>

<Code code={SaveLoadSnapshotExampleRaw} lang="vue" title="SaveLoadSnapshotExample.vue" />

## How it works

1. **Query entities** using `defineQuery` to find all synced blocks
2. **Snapshot components** using `Component.snapshot(ctx, entityId)` to get serializable data
3. **Serialize to JSON** and store or download the result
4. **Import** by creating new entities and adding components from the snapshot

## Key APIs

- `defineQuery()` - Query for entities with specific components
- `Component.snapshot()` - Get serializable copy of component data
- `hasComponent()` - Check if entity has a component
- `createEntity()` / `removeEntity()` - Manage entities
- `addComponent()` - Add component to entity

## Note on Persistence

For automatic persistence to IndexedDB, use the `store.persistence` option instead:

```vue
<WovenCanvas :store="{ persistence: { documentId: 'my-doc' } }" />
```

This example shows manual export/import for cases where you need full control over serialization.
