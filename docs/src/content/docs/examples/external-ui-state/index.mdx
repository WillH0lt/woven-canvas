---
title: External UI State
description: Sync editor state with external Vue components.
---

import { Code } from '@astrojs/starlight/components';
import ExampleContainer from '../../../../components/ExampleContainer.astro';
import ExternalUIStateExample from './ExternalUIStateExample.vue';
import ExternalUIStateExampleRaw from './ExternalUIStateExample.vue?raw';

Display and control editor state from components outside the canvas.

<ExampleContainer height="450px">
  <ExternalUIStateExample client:only="vue" />
</ExampleContainer>

<Code code={ExternalUIStateExampleRaw} lang="vue" title="ExternalUIStateExample.vue" />

## How it works

1. **Use `useSingleton`** to reactively read singleton state (Camera, Grid, etc.)
2. **Use `useQuery`** to track entities with specific components
3. **Call `editor.nextTick`** to update editor state from external UI

```typescript
// Read camera state reactively
const camera = useSingleton(Camera)

// Query selected blocks
const selectedBlocks = useQuery([Block, Selected] as const)

// Update camera from external button
function setZoom(zoom: number) {
  editor.nextTick((ctx) => {
    const cam = Camera.write(ctx)
    cam.zoom = zoom
  })
}
```

## Key APIs

- `useSingleton(def)` - Reactive singleton state
- `useQuery([...components])` - Query entities with components
- `editor.nextTick()` - Schedule state changes

## Important notes

- Composables must be used inside a `WovenCanvas` component tree
- The external panel receives the editor ref via props
- `useQuery` returns an array of objects with component snapshots keyed by component name

## Use cases

- **Inspector panels** - Show selection properties
- **Toolbars** - External tool buttons that modify canvas
- **Dashboards** - Display canvas statistics
- **Property editors** - Edit selected shapes' properties
