---
title: Canvas Controls Plugin
description: Pan, zoom, and scroll navigation for the infinite canvas
---

import { Code } from '@astrojs/starlight/components';
import ExampleContainer from '../../../../components/ExampleContainer.astro';
import CanvasControlsExample from './CanvasControlsExample.vue';
import CanvasControlsExampleRaw from './CanvasControlsExample.vue?raw';

The Canvas Controls plugin provides navigation controls for the infinite canvas including zooming, panning, and scrolling.

<ExampleContainer>
  <CanvasControlsExample client:only="vue" />
</ExampleContainer>

- Scroll wheel to pan
- Ctrl/Cmd + scroll to zoom
- Hand tool or middle mouse to drag-pan with momentum

## Usage

The Canvas Controls plugin is included by default when using `WovenCanvas`. To configure it:

```vue
<template>
  <WovenCanvas
    :plugin-options="{
      controls: { minZoom: 0.1, maxZoom: 5 }
    }"
  />
</template>
```

To disable it:

```vue
<template>
  <WovenCanvas :plugin-options="{ controls: false }" />
</template>
```

## Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `minZoom` | `number` | `0.05` | Minimum zoom level (5%) |
| `maxZoom` | `number` | `2.7` | Maximum zoom level (270%) |

```typescript
CanvasControlsPlugin({
  minZoom: 0.1,  // 10% minimum zoom
  maxZoom: 5,    // 500% maximum zoom
})
```

## Controls

| Input | Action |
|-------|--------|
| Scroll wheel | Pan the canvas |
| Ctrl/Cmd + Scroll wheel | Zoom in/out toward cursor |
| Middle mouse drag | Pan with momentum (glide) |
| Hand tool drag | Pan with momentum (glide) |

## Pan States

The plugin maintains internal pan state for smooth momentum-based panning:

| State | Description |
|-------|-------------|
| `Idle` | No panning in progress |
| `Panning` | User is actively dragging |
| `Gliding` | Momentum-based movement after release |

## Programmatic Camera Control

You can control the camera programmatically using the editor API:

```typescript
import { Camera } from '@woven-canvas/core'

editor.nextTick((ctx) => {
  const camera = Camera.write(ctx)

  // Set position (world coordinates)
  camera.position[0] = 500
  camera.position[1] = 300

  // Set zoom level
  camera.zoom = 1.5
})
```

For another camera control example, see:
- [Using the Editor API](/examples/editor-api/)

## Vue Components

The Vue package provides the Hand tool for toolbar integration:

```vue
<script setup lang="ts">
import { WovenCanvas, HandTool, SelectTool, Toolbar } from '@woven-canvas/vue'
</script>

<template>
  <WovenCanvas>
    <template #toolbar>
      <Toolbar>
        <SelectTool />
        <HandTool />
      </Toolbar>
    </template>
  </WovenCanvas>
</template>
```

The Hand tool allows users to pan the canvas by clicking and dragging, without selecting blocks.
